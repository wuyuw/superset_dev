(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1906:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(2652)),a=u(r(3117)),o=u(r(3121));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(a.default,o.default)},2652:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return function(){return function(r,i,l){var f=new u.default(r,i,l);o.default.render(a.default.createElement(e,n({width:r.width(),height:r.height()},t(f))),document.querySelector(r.selector))}}()};var a=i(r(1)),o=i(r(10)),u=i(r(2653));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){return function(e){return e}}()},2653:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(2654),o=(n=a)&&n.__esModule?n:{default:n};var u=function(){return function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.annotationData=t.annotationData,this.datasource=(0,o.default)(t.datasource),this.rawDatasource=t.datasource,this.filters=t.getFilters(),this.formData=(0,o.default)(t.formData),this.onAddFilter=function(){t.addFilter.apply(t,arguments)},this.onError=function(){t.error.apply(t,arguments)},this.payload=r,this.setControlValue=n}}();t.default=u},2654:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(2663)),a=u(r(2664)),o=u(r(2665));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){if(null==e)return e;if((0,n.default)(e))return(0,o.default)(function(e){return(0,a.default)(e)},e);throw new Error("Cannot convert input that is not a plain object: "+e)}},3117:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=f(r(1)),o=f(r(0)),u=f(r(55)),i=r(3118),l=f(i);function f(e){return e&&e.__esModule?e:{default:e}}r(3119);var s={className:o.default.string,width:o.default.number,seriesHeight:o.default.number,data:o.default.arrayOf(o.default.shape({key:o.default.arrayOf(o.default.string),values:o.default.arrayOf(o.default.shape({y:o.default.number}))})).isRequired,bands:o.default.number,colors:o.default.arrayOf(o.default.string),colorScale:o.default.string,mode:o.default.string,offsetX:o.default.number},c={className:"",width:800,seriesHeight:20,bands:Math.floor(i.DEFAULT_COLORS.length/2),colors:i.DEFAULT_COLORS,colorScale:"series",mode:"offset",offsetX:0},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].PureComponent),n(t,[{key:"render",value:function(){return function(){var e=this.props,t=e.className,r=e.width,n=e.data,o=e.seriesHeight,i=e.bands,f=e.colors,s=e.colorScale,c=e.mode,d=e.offsetX,h=void 0;if("overall"===s){var p=n.reduce(function(e,t){return e.concat(t.values)},[]);h=u.default.extent(p,function(e){return e.y})}return a.default.createElement("div",{className:"horizon-chart "+t},n.map(function(e){return a.default.createElement(l.default,{key:e.key,width:r,height:o,title:e.key.join(", "),data:e.values,bands:i,colors:f,colorScale:s,mode:c,offsetX:d,yDomain:h})}))}}()}]),t}();d.propTypes=s,d.defaultProps=c,t.default=d},3118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_COLORS=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=l(r(1)),u=l(r(0)),i=l(r(55));function l(e){return e&&e.__esModule?e:{default:e}}var f=t.DEFAULT_COLORS=["#313695","#4575b4","#74add1","#abd9e9","#fee090","#fdae61","#f46d43","#d73027"],s={className:u.default.string,width:u.default.number,height:u.default.number,data:u.default.arrayOf(u.default.shape({y:u.default.number})).isRequired,bands:u.default.number,colors:u.default.arrayOf(u.default.string),colorScale:u.default.string,mode:u.default.string,offsetX:u.default.number,title:u.default.string,yDomain:u.default.arrayOf(u.default.number)},c={className:"",width:800,height:20,bands:f.length>>1,colors:f,colorScale:"series",mode:"offset",offsetX:0,title:"",yDomain:void 0},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"].PureComponent),a(t,[{key:"componentDidMount",value:function(){return function(){this.drawChart()}}()},{key:"componentDidUpdate",value:function(){return function(){this.drawChart()}}()},{key:"componentWillUnmount",value:function(){return function(){this.canvas=null}}()},{key:"drawChart",value:function(){return function(){if(this.canvas){var e=this.props,t=e.data,r=e.yDomain,a=e.width,o=e.height,u=e.bands,l=e.colors,f=e.colorScale,s=e.offsetX,c=e.mode,d="change"===f?t.map(function(e){return Object.assign({},e,{y:e.y-t[0].y})}):t,h=this.canvas.getContext("2d");h.imageSmoothingEnabled=!1,h.clearRect(0,0,a,o),h.setTransform(1,0,0,1,0,0),h.translate(.5,.5);var p=a/d.length,y=Math.floor(Math.max(0,-s/p)),v=Math.floor(Math.min(d.length,y+a/p));if(y>d.length)return;for(var b=r||i.default.extent(d,function(e){return e.y}),m=n(b,2),g=m[0],w=m[1],_=i.default.scale.linear().domain([0,Math.max(-g,w)]).range([0,o]),O=!1,j=void 0,E=void 0,S=0;S<u;S+=1){h.fillStyle=l[u+S],E=(S+1-u)*o,_.range([u*o+E,E]);for(var M=y;M<v;M++)(j=d[M].y)<=0?O=!0:void 0!==j&&h.fillRect(s+M*p,_(j),p+1,_(0)-_(j))}if(O){"offset"===c&&(h.translate(0,o),h.scale(1,-1));for(var P=0;P<u;P++){h.fillStyle=l[u-P-1],E=(P+1-u)*o,_.range([u*o+E,E]);for(var C=y;C<v;C++)(j=d[C].y)>=0||h.fillRect(s+C*p,_(-j),p+1,_(0)-_(-j))}}}}}()},{key:"render",value:function(){return function(){var e=this,t=this.props,r=t.className,n=t.title,a=t.width,u=t.height;return o.default.createElement("div",{className:"horizon-row "+r},o.default.createElement("span",{className:"title"},n),o.default.createElement("canvas",{width:a,height:u,ref:function(t){e.canvas=t}}))}}()}]),t}();d.propTypes=s,d.defaultProps=c,t.default=d},3119:function(e,t,r){},3121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.formData,r=e.payload,n=t.horizonColorScale,a=t.seriesHeight;return{data:r.data,seriesHeight:parseInt(a,10),colorScale:n}}}}]);