(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1177:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_NAMESPACE=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.getNamespace=d,e.getColor=function(t,e,n){return d(n).getScale(e).getColor(t)},e.getScale=function(t,e){return d(e).getScale(t)};var i,u=n(1178),o=(i=u)&&i.__esModule?i:{default:i},a=n(89);var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.scales={},this.forcedItems={}}return r(t,[{key:"getScale",value:function(){return function(t){var e=t||(0,a.getDefaultSchemeName)(),n=this.scales[e];if(n)return n;var r=new o.default((0,a.getScheme)(e),this.forcedItems);return this.scales[e]=r,r}}()},{key:"setColor",value:function(){return function(t,e){return this.forcedItems[t]=e,this}}()}]),t}(),f={},l=e.DEFAULT_NAMESPACE="GLOBAL";function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=f[t];if(e)return e;var n=new c(t);return f[t]=n,n}},1178:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.cleanValue=u;var i=n(280);function u(t){return String(t).trim().toLowerCase().split(", ").filter(function(t){return!i.TIME_SHIFT_PATTERN.test(t)}).join(", ")}var o=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.colors=e,this.parentForcedColors=n,this.forcedColors={},this.seen={},this.fn=function(t){return r.getColor(t)}}return r(t,[{key:"getColor",value:function(){return function(t){var e=u(t),n=this.parentForcedColors&&this.parentForcedColors[e];if(n)return n;var r=this.forcedColors[e];if(r)return r;var i=this.seen[e],o=this.colors.length;if(void 0!==i)return this.colors[i%o];var a=Object.keys(this.seen).length;return this.seen[e]=a,this.colors[a%o]}}()},{key:"setColor",value:function(){return function(t,e){return this.forcedColors[t]=e,this}}()},{key:"toFunction",value:function(){return function(){return this.fn}}()}]),t}();e.default=o},1922:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(2652)),i=o(n(3257)),u=o(n(3261));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)(i.default,u.default)},2652:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return function(){return function(n,a,c){var f=new o.default(n,a,c);u.default.render(i.default.createElement(t,r({width:n.width(),height:n.height()},e(f))),document.querySelector(n.selector))}}()};var i=a(n(1)),u=a(n(10)),o=a(n(2653));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(){return function(t){return t}}()},2653:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(2654),u=(r=i)&&r.__esModule?r:{default:r};var o=function(){return function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.annotationData=e.annotationData,this.datasource=(0,u.default)(e.datasource),this.rawDatasource=e.datasource,this.filters=e.getFilters(),this.formData=(0,u.default)(e.formData),this.onAddFilter=function(){e.addFilter.apply(e,arguments)},this.onError=function(){e.error.apply(e,arguments)},this.payload=n,this.setControlValue=r}}();e.default=o},2654:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(2663)),i=o(n(2664)),u=o(n(2665));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){if(null==t)return t;if((0,r.default)(t))return(0,u.default)(function(t){return(0,i.default)(t)},t);throw new Error("Cannot convert input that is not a plain object: "+t)}},2657:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.default=function(t){var e=function(e){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.setContainerRef=e.setContainerRef.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),r(n,[{key:"componentDidMount",value:function(){return function(){this.execute()}}()},{key:"componentDidUpdate",value:function(){return function(){this.execute()}}()},{key:"componentWillUnmount",value:function(){return function(){this.container=null}}()},{key:"setContainerRef",value:function(){return function(t){this.container=t}}()},{key:"execute",value:function(){return function(){this.container&&t(this.container,this.props)}}()},{key:"render",value:function(){return function(){var t=this.props,e=t.id,n=t.className;return o.default.createElement("div",{id:e,className:n,ref:this.setContainerRef})}}()}]),n}(o.default.Component);t.displayName&&(e.displayName=t.displayName);t.propTypes&&(e.propTypes=t.propTypes);t.defaultProps&&(e.defaultProps=t.defaultProps);return e};var i,u=n(1),o=(i=u)&&i.__esModule?i:{default:i}},3257:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(2657)),i=u(n(3258));function u(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)(i.default)},3258:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,u=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw u}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=arguments,u=l(n(55)),o=l(n(0)),a=n(3302),c=n(1177),f=n(70);function l(t){return t&&t.__esModule?t:{default:t}}n(3259);var d=function(){return function(t){return function(){return t().apply(void 0,i)}}}(),s=o.default.shape({name:o.default.string,val:o.default.number.isRequired}),h={name:o.default.string,val:o.default.number.isRequired,children:o.default.arrayOf(o.default.oneOfType([o.default.shape(d(function(){return h})),s]))},p=o.default.oneOfType([o.default.shape(h),s]),v={data:o.default.arrayOf(p),width:o.default.number,height:o.default.number,colorScheme:o.default.string,dateTimeFormat:o.default.string,equalDateSize:o.default.bool,levels:o.default.arrayOf(o.default.string),metrics:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.object])),numberFormat:o.default.string,partitionLimit:o.default.number,partitionThreshold:o.default.number,timeSeriesOption:o.default.string,useLogScale:o.default.bool,useRichTooltip:o.default.bool};function y(t,e){var n=e.width,i=e.height,o=e.data,l=e.colorScheme,d=e.dateTimeFormat,s=e.equalDateSize,h=e.levels,p=e.useLogScale,v=void 0!==p&&p,y=e.metrics,g=void 0===y?[]:y,m=e.numberFormat,x=e.partitionLimit,w=e.partitionThreshold,b=e.useRichTooltip,_=e.timeSeriesOption,M=void 0===_?"not_time":_,O=u.default.select(t),S=["adv_anal","time_series"].indexOf(M)>=0,T=u.default.format(m),A=(0,f.d3TimeFormatPreset)(d),E=(0,c.getScale)(l).toFunction();O.selectAll("*").remove();var j=O.append("div").classed("partition-tooltip",!0);function k(e,c){var f=c[e],l=n,d=i/o.length,p=u.default.scale.linear().range([0,l]),y=u.default.scale.linear().range([0,d]),m=O.append("div").attr("class","chart").style("width",l+"px").style("height",d+"px").append("svg:svg").attr("width",l).attr("height",d);e!==o.length-1&&o.length>1&&m.style("padding-bottom","3px"),0!==e&&o.length>1&&m.style("padding-top","3px");var _=(0,a.hierarchy)(f);function M(t){return g.indexOf(t.data.name)>=0&&S}function k(t){return t?S&&1===t?"Date":h[t-(S?2:1)]:"Metric"}function z(e,n){var i="<table>";b?function(t){for(var e=[t],n=t;n.parent;)e.push(n.parent),n=n.parent;return e}(n).reverse().forEach(function(t){var e=t.depth===n.depth;i+="<tbody>",i+="<tr><td><div style='border: 2px solid "+(e?"black":"transparent")+";background-color: "+t.color+";'></div></td><td>"+k(t.depth)+"</td><td>"+t.name+"</td><td>"+t.disp+"</td></tr>"}):(i+='<thead><tr><td colspan="3"><strong>'+k(n.depth)+"</strong></td></tr></thead><tbody>",i+="<tr><td><div style='border: thin solid grey; background-color: "+n.color+";'></div></td><td>"+n.name+"</td><td>"+n.disp+"</td></tr>");i+="</tbody></table>";var o=u.default.mouse(t),a=r(o,2),c=a[0],f=a[1];e.html(i).style("left",c+15+"px").style("top",f+"px")}_.eachAfter(function(t){t.disp=t.data.val,t.value=t.disp<0?-t.disp:t.disp,t.weight=t.value,t.name=t.data.name,t.parent&&M(t.parent)&&(t.weight=s?1:t.value,t.value=t.name,t.name=A(t.name)),v&&(t.weight=Math.log(t.weight+1)),t.disp=t.disp&&!Number.isNaN(t.disp)&&isFinite(t.disp)?T(t.disp):""}),_.sort(function(t,e){var n=e.value-t.value;return 0===n?e.name>t.name?1:-1:n}),w&&w>=0&&_.each(function(t){if(t.sum=t.children&&t.children.reduce(function(t,e){return t+e.weight},0)||1,t.children)if(M(t)){if(s)return;for(var e=[],n=1;n<t.children.length;n++)t.children[n].weight/t.sum<w&&e.push(n);for(var r=e.length-1;r>=0;r--)t.children.splice(e[r],1)}else{var i=void 0;for(i=1;i<t.children.length&&!(t.children[i].weight/t.sum<w);i++);t.children=t.children.slice(0,i)}}),x&&x>=0&&_.each(function(t){t.children&&t.children.length>x&&(M(t)||(t.children=t.children.slice(0,x)))}),_.eachAfter(function(t){t.sum=t.children&&t.children.reduce(function(t,e){return t+e.weight},0)||1});var C=function(t){var e=[],n=1/(t.height+1),r=null;return t.each(function(t){t.y=n*t.depth,t.dy=n,t.parent?(t.x=r.depth===t.parent.depth?0:r.x+r.dx,t.dx=t.weight/t.parent.sum*t.parent.dx):(t.x=0,t.dx=1),r=t,e.push(t)}),e}(_),P=l/_.dx,B=d/1;function F(t){return"translate(8,"+t.dx*B/2+")"}var D=m.selectAll("g").data(C).enter().append("svg:g").attr("transform",function(t){return"translate("+p(t.y)+","+y(t.x)+")"}).on("mouseover",function(t){j.interrupt().transition().duration(100).style("opacity",.9),z(j,t)}).on("mousemove",function(t){z(j,t)}).on("mouseout",function(){j.interrupt().transition().duration(250).style("opacity",0)});D.on("click",function t(e){if(!e.children)return!!e.parent&&t(e.parent);P=(e.y?l-40:l)/(1-e.y),B=d/e.dx,p.domain([e.y,1]).range([e.y?40:0,l]),y.domain([e.x,e.x+e.dx]);var n=D.transition().duration(u.default.event.altKey?7500:750).attr("transform",function(t){return"translate("+p(t.y)+","+y(t.x)+")"});return n.select("rect").attr("width",e.dy*P).attr("height",function(t){return t.dx*B}),n.select("text").attr("transform",F).style("opacity",function(t){return t.dx*B>12?1:0}),u.default.event.stopPropagation(),!0}),D.append("svg:rect").attr("width",_.dy*P).attr("height",function(t){return t.dx*B}),D.append("svg:text").attr("transform",F).attr("dy","0.35em").style("opacity",function(t){return t.dx*B>12?1:0}).text(function(t){return t.disp?t.name+": "+t.disp:t.name}),D.selectAll("rect").style("fill",function(t){return t.color=E(t.name),t.color})}for(var z=0;z<o.length;z++)k(z,o)}y.displayName="Icicle",y.propTypes=v,e.default=y},3259:function(t,e,n){},3261:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.datasource,n=t.formData,r=t.payload,i=n.colorScheme,u=n.dateTimeFormat,o=n.equalDateSize,a=n.groupby,c=n.logScale,f=n.metrics,l=n.numberFormat,d=n.partitionLimit,s=n.partitionThreshold,h=n.richTooltip,p=n.timeSeriesOption,v=e.verboseMap;return{data:r.data,colorScheme:i,dateTimeFormat:u,equalDateSize:o,levels:a.map(function(t){return v[t]||t}),metrics:f,numberFormat:l,partitionLimit:d&&parseInt(d,10),partitionThreshold:s&&parseInt(s,10),timeSeriesOption:p,useLogScale:c,useRichTooltip:h}}},3302:function(t,e,n){"use strict";function r(t,e){return t.parent===e.parent?1:2}function i(t,e){return t+e.x}function u(t,e){return Math.max(t,e.y)}n.r(e);var o=function(){var t=r,e=1,n=1,o=!1;function a(r){var a,c=0;r.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(i,0)/t.length}(n),e.y=function(t){return 1+t.reduce(u,0)}(n)):(e.x=a?c+=t(e,a):0,e.y=0,a=e)});var f=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),d=f.x-t(f,l)/2,s=l.x+t(l,f)/2;return r.eachAfter(o?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-d)/(s-d)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return a.separation=function(e){return arguments.length?(t=e,a):t},a.size=function(t){return arguments.length?(o=!1,e=+t[0],n=+t[1],a):o?null:[e,n]},a.nodeSize=function(t){return arguments.length?(o=!0,e=+t[0],n=+t[1],a):o?[e,n]:null},a};function a(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function c(t,e){var n,r,i,u,o,a=new s(t),c=+t.value&&(a.value=t.value),l=[a];for(null==e&&(e=f);n=l.pop();)if(c&&(n.value=+n.data.value),(i=e(n.data))&&(o=i.length))for(n.children=new Array(o),u=o-1;u>=0;--u)l.push(r=n.children[u]=new s(i[u])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(d)}function f(t){return t.children}function l(t){t.data=t.data.data}function d(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function s(t){this.data=t,this.depth=this.height=0,this.parent=null}s.prototype=c.prototype={constructor:s,count:function(){return this.eachAfter(a)},each:function(t){var e,n,r,i,u=this,o=[u];do{for(e=o.reverse(),o=[];u=e.pop();)if(t(u),n=u.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(t){for(var e,n,r,i=this,u=[i],o=[];i=u.pop();)if(o.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)u.push(e[n]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return c(this).eachBefore(l)}};var h=Array.prototype.slice;var p=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(h.call(t))).length,u=[];r<i;)e=t[r],n&&g(n,e)?++r:(n=x(u=v(u,e)),r=0);return n};function v(t,e){var n,r;if(m(e,t))return[e];for(n=0;n<t.length;++n)if(y(e,t[n])&&m(w(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(y(w(t[n],t[r]),e)&&y(w(t[n],e),t[r])&&y(w(t[r],e),t[n])&&m(b(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function y(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function g(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function m(t,e){for(var n=0;n<e.length;++n)if(!g(t,e[n]))return!1;return!0}function x(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return w(t[0],t[1]);case 3:return b(t[0],t[1],t[2])}var e}function w(t,e){var n=t.x,r=t.y,i=t.r,u=e.x,o=e.y,a=e.r,c=u-n,f=o-r,l=a-i,d=Math.sqrt(c*c+f*f);return{x:(n+u+c/d*l)/2,y:(r+o+f/d*l)/2,r:(d+i+a)/2}}function b(t,e,n){var r=t.x,i=t.y,u=t.r,o=e.x,a=e.y,c=e.r,f=n.x,l=n.y,d=n.r,s=r-o,h=r-f,p=i-a,v=i-l,y=c-u,g=d-u,m=r*r+i*i-u*u,x=m-o*o-a*a+c*c,w=m-f*f-l*l+d*d,b=h*p-s*v,_=(p*w-v*x)/(2*b)-r,M=(v*y-p*g)/b,O=(h*x-s*w)/(2*b)-i,S=(s*g-h*y)/b,T=M*M+S*S-1,A=2*(u+_*M+O*S),E=_*_+O*O-u*u,j=-(T?(A+Math.sqrt(A*A-4*T*E))/(2*T):E/A);return{x:r+_+M*j,y:i+O+S*j,r:j}}function _(t,e,n){var r,i,u,o,a=t.x-e.x,c=t.y-e.y,f=a*a+c*c;f?(i=e.r+n.r,i*=i,o=t.r+n.r,i>(o*=o)?(r=(f+o-i)/(2*f),u=Math.sqrt(Math.max(0,o/f-r*r)),n.x=t.x-r*a-u*c,n.y=t.y-r*c+u*a):(r=(f+i-o)/(2*f),u=Math.sqrt(Math.max(0,i/f-r*r)),n.x=e.x+r*a-u*c,n.y=e.y+r*c+u*a)):(n.x=e.x+n.r,n.y=e.y)}function M(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function O(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,u=(e.y*n.r+n.y*e.r)/r;return i*i+u*u}function S(t){this._=t,this.next=null,this.previous=null}function T(t){if(!(i=t.length))return 0;var e,n,r,i,u,o,a,c,f,l,d;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;_(n,e,r=t[2]),e=new S(e),n=new S(n),r=new S(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(a=3;a<i;++a){_(e._,n._,r=t[a]),r=new S(r),c=n.next,f=e.previous,l=n._.r,d=e._.r;do{if(l<=d){if(M(c._,r._)){n=c,e.next=n,n.previous=e,--a;continue t}l+=c._.r,c=c.next}else{if(M(f._,r._)){(e=f).next=n,n.previous=e,--a;continue t}d+=f._.r,f=f.previous}}while(c!==f.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,u=O(e);(r=r.next)!==n;)(o=O(r))<u&&(e=r,u=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=p(e),a=0;a<i;++a)(e=t[a]).x-=r.x,e.y-=r.y;return r.r}var A=function(t){return T(t),t};function E(t){if("function"!=typeof t)throw new Error;return t}function j(){return 0}var k=function(t){return function(){return t}};function z(t){return Math.sqrt(t.value)}var C=function(){var t=null,e=1,n=1,r=j;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(P(t)).eachAfter(B(r,.5)).eachBefore(F(1)):i.eachBefore(P(z)).eachAfter(B(j,1)).eachAfter(B(r,i.r/Math.min(e,n))).eachBefore(F(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=null==(n=e)?null:E(n),i):t;var n},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:k(+t),i):r},i};function P(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function B(t,e){return function(n){if(r=n.children){var r,i,u,o=r.length,a=t(n)*e||0;if(a)for(i=0;i<o;++i)r[i].r+=a;if(u=T(r),a)for(i=0;i<o;++i)r[i].r-=a;n.r=u+a}}}function F(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var D=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},q=function(t,e,n,r,i){for(var u,o=t.children,a=-1,c=o.length,f=t.value&&(r-e)/t.value;++a<c;)(u=o[a]).y0=n,u.y1=i,u.x0=e,u.x1=e+=u.value*f},I=function(){var t=1,e=1,n=0,r=!1;function i(i){var u=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/u,i.eachBefore(function(t,e){return function(r){r.children&&q(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,u=r.y0,o=r.x1-n,a=r.y1-n;o<i&&(i=o=(i+o)/2),a<u&&(u=a=(u+a)/2),r.x0=i,r.y0=u,r.x1=o,r.y1=a}}(e,u)),r&&i.eachBefore(D),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},L="$",N={depth:-1},R={};function U(t){return t.id}function J(t){return t.parentId}var V=function(){var t=U,e=J;function n(n){var r,i,u,o,a,c,f,l=n.length,h=new Array(l),p={};for(i=0;i<l;++i)r=n[i],a=h[i]=new s(r),null!=(c=t(r,i,n))&&(c+="")&&(p[f=L+(a.id=c)]=f in p?R:a);for(i=0;i<l;++i)if(a=h[i],null!=(c=e(n[i],i,n))&&(c+="")){if(!(o=p[L+c]))throw new Error("missing: "+c);if(o===R)throw new Error("ambiguous: "+c);o.children?o.children.push(a):o.children=[a],a.parent=o}else{if(u)throw new Error("multiple roots");u=a}if(!u)throw new Error("no root");if(u.parent=N,u.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(d),u.parent=null,l>0)throw new Error("cycle");return u}return n.id=function(e){return arguments.length?(t=E(e),n):t},n.parentId=function(t){return arguments.length?(e=E(t),n):e},n};function G(t,e){return t.parent===e.parent?1:2}function H(t){var e=t.children;return e?e[0]:t.t}function K(t){var e=t.children;return e?e[e.length-1]:t.t}function W(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function $(t,e,n){return t.a.parent===e.parent?t.a:n}function Q(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Q.prototype=Object.create(s.prototype);var X=function(){var t=G,e=1,n=1,r=null;function i(i){var c=function(t){for(var e,n,r,i,u,o=new Q(t,0),a=[o];e=a.pop();)if(r=e._.children)for(e.children=new Array(u=r.length),i=u-1;i>=0;--i)a.push(n=e.children[i]=new Q(r[i],i)),n.parent=e;return(o.parent=new Q(null,0)).children=[o],o}(i);if(c.eachAfter(u),c.parent.m=-c.z,c.eachBefore(o),r)i.eachBefore(a);else{var f=i,l=i,d=i;i.eachBefore(function(t){t.x<f.x&&(f=t),t.x>l.x&&(l=t),t.depth>d.depth&&(d=t)});var s=f===l?1:t(f,l)/2,h=s-f.x,p=e/(l.x+s+h),v=n/(d.depth||1);i.eachBefore(function(t){t.x=(t.x+h)*p,t.y=t.depth*v})}return i}function u(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,u=i.length;--u>=0;)(e=i[u]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var u=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-u):e.z=u}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,u=e,o=e,a=n,c=u.parent.children[0],f=u.m,l=o.m,d=a.m,s=c.m;a=K(a),u=H(u),a&&u;)c=H(c),(o=K(o)).a=e,(i=a.z+d-u.z-f+t(a._,u._))>0&&(W($(a,e,r),e,i),f+=i,l+=i),d+=a.m,f+=u.m,s+=c.m,l+=o.m;a&&!K(o)&&(o.t=a,o.m+=d-l),u&&!H(c)&&(c.t=u,c.m+=f-s,r=e)}return r}(e,i,e.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},Y=function(t,e,n,r,i){for(var u,o=t.children,a=-1,c=o.length,f=t.value&&(i-n)/t.value;++a<c;)(u=o[a]).x0=e,u.x1=r,u.y0=n,u.y1=n+=u.value*f},Z=(1+Math.sqrt(5))/2;function tt(t,e,n,r,i,u){for(var o,a,c,f,l,d,s,h,p,v,y,g=[],m=e.children,x=0,w=0,b=m.length,_=e.value;x<b;){c=i-n,f=u-r;do{l=m[w++].value}while(!l&&w<b);for(d=s=l,y=l*l*(v=Math.max(f/c,c/f)/(_*t)),p=Math.max(s/y,y/d);w<b;++w){if(l+=a=m[w].value,a<d&&(d=a),a>s&&(s=a),y=l*l*v,(h=Math.max(s/y,y/d))>p){l-=a;break}p=h}g.push(o={value:l,dice:c<f,children:m.slice(x,w)}),o.dice?q(o,n,r,i,_?r+=f*l/_:u):Y(o,n,r,_?n+=c*l/_:i,u),_-=l,x=w}return g}var et=function t(e){function n(t,n,r,i,u){tt(e,t,n,r,i,u)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Z),nt=function(){var t=et,e=!1,n=1,r=1,i=[0],u=j,o=j,a=j,c=j,f=j;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(d),i=[0],e&&t.eachBefore(D),t}function d(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,d=e.x1-n,s=e.y1-n;d<r&&(r=d=(r+d)/2),s<l&&(l=s=(l+s)/2),e.x0=r,e.y0=l,e.x1=d,e.y1=s,e.children&&(n=i[e.depth+1]=u(e)/2,r+=f(e)-n,l+=o(e)-n,(d-=a(e)-n)<r&&(r=d=(r+d)/2),(s-=c(e)-n)<l&&(l=s=(l+s)/2),t(e,r,l,d,s))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=E(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:k(+t),l):u},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:k(+t),l):o},l.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:k(+t),l):a},l.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:k(+t),l):c},l.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:k(+t),l):f},l},rt=function(t,e,n,r,i){var u,o,a=t.children,c=a.length,f=new Array(c+1);for(f[0]=o=u=0;u<c;++u)f[u+1]=o+=a[u].value;!function t(e,n,r,i,u,o,c){if(e>=n-1){var l=a[e];return l.x0=i,l.y0=u,l.x1=o,void(l.y1=c)}var d=f[e],s=r/2+d,h=e+1,p=n-1;for(;h<p;){var v=h+p>>>1;f[v]<s?h=v+1:p=v}s-f[h-1]<f[h]-s&&e+1<h&&--h;var y=f[h]-d,g=r-y;if(o-i>c-u){var m=(i*g+o*y)/r;t(e,h,y,i,u,m,c),t(h,n,g,m,u,o,c)}else{var x=(u*g+c*y)/r;t(e,h,y,i,u,o,x),t(h,n,g,i,x,o,c)}}(0,c,t.value,e,n,r,i)},it=function(t,e,n,r,i){(1&t.depth?Y:q)(t,e,n,r,i)},ut=function t(e){function n(t,n,r,i,u){if((o=t._squarify)&&o.ratio===e)for(var o,a,c,f,l,d=-1,s=o.length,h=t.value;++d<s;){for(c=(a=o[d]).children,f=a.value=0,l=c.length;f<l;++f)a.value+=c[f].value;a.dice?q(a,n,r,i,r+=(u-r)*a.value/h):Y(a,n,r,n+=(i-n)*a.value/h,u),h-=a.value}else t._squarify=o=tt(e,t,n,r,i,u),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Z);n.d(e,"cluster",function(){return o}),n.d(e,"hierarchy",function(){return c}),n.d(e,"pack",function(){return C}),n.d(e,"packSiblings",function(){return A}),n.d(e,"packEnclose",function(){return p}),n.d(e,"partition",function(){return I}),n.d(e,"stratify",function(){return V}),n.d(e,"tree",function(){return X}),n.d(e,"treemap",function(){return nt}),n.d(e,"treemapBinary",function(){return rt}),n.d(e,"treemapDice",function(){return q}),n.d(e,"treemapSlice",function(){return Y}),n.d(e,"treemapSliceDice",function(){return it}),n.d(e,"treemapSquarify",function(){return et}),n.d(e,"treemapResquarify",function(){return ut})}}]);